!function(n){var t=n(window),o=t.height();t.resize(function(){o=t.height()}),n.fn.parallax=function(e,i,r){function u(){var r=t.scrollTop();f.each(function(){var t=n(this),u=t.offset().top;if(!(u+h(t)<r||u>r+o)){var l;l="bottom"==e?-1:1,f.css(e,Math.round(r*i*l)+"px")}})}var h,l,f=n(this);f.each(function(){l=f.offset().top}),h=r?function(n){return n.outerHeight(!0)}:function(n){return n.height()},(arguments.length<1||null===e)&&(e="50%"),(arguments.length<2||null===i)&&(i=.1),(arguments.length<3||null===r)&&(r=!0),t.bind("scroll",u).resize(u),u()}}(jQuery);