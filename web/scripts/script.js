function SliderInit(e,t){t=void 0!==t&&t;for(var o=$(e),s=0;s<o.length;s++){var i=$(o[s]).find("ul.slides"),n=$(i).find("li");if(n.length>2){var l=n[0],a=n[1],r=n[2];$(a).addClass("cur"),$(r).addClass("next"),$(l).addClass("prev");var c=$(o[s]).find("div.cntrls"),d=$(c).find(".next"),f=$(c).find(".prev");if(t&&n.length>4){var p=n[n.length-1],u=n[3];$(p).addClass("preprev"),$(u).addClass("prenext")}d[0].addEventListener("click",function(e){var o=e.target.parentNode.parentNode.parentNode,s=$(o).find("li"),i=$(o).find(".cur")[0],n=$(o).find(".next")[0],l=$(o).find(".prev")[0];if(l.classList.remove("prev"),i.classList.add("prev"),i.classList.remove("cur"),n.classList.add("cur"),n.classList.remove("next"),t){var a=$(o).find(".preprev")[0],r=$(o).find(".prenext")[0];a.classList.remove("preprev"),l.classList.add("preprev"),r.classList.add("next"),r.classList.remove("prenext"),r.nextElementSibling?r.nextElementSibling.classList.add("prenext"):s[0].classList.add("prenext")}else n.nextElementSibling?n.nextElementSibling.classList.add("next"):s[0].classList.add("next")},!1),f[0].addEventListener("click",function(e){var o=e.target.parentNode.parentNode.parentNode,s=$(o).find("li"),i=$(o).find(".cur")[0],n=$(o).find(".next")[0],l=$(o).find(".prev")[0];if(i.classList.add("next"),i.classList.remove("cur"),n.classList.remove("next"),l.classList.add("cur"),l.classList.remove("prev"),t){var a=$(o).find(".preprev")[0],r=$(o).find(".prenext")[0];n.classList.add("prenext"),r.classList.remove("prenext"),a.classList.add("prev"),a.classList.remove("preprev"),a.previousElementSibling?a.previousElementSibling.classList.add("preprev"):s[s.length-1].classList.add("preprev")}else l.previousElementSibling?l.previousElementSibling.classList.add("prev"):s[s.length-1].classList.add("prev")},!1)}else console.log("SLIDER ERROR ! ! !")}}function resizeFlag(e,t,o){var s=document.documentElement.clientWidth;s>=e&&s<=t&&o()}function toggleMap(){if(map_bool){var e=document.getElementById("hidecont");e.style.height="0px",map_bool=!1}else{var t=(e=document.getElementById("hidecont")).childNodes[1].clientHeight;e.style.height=t+"px",map_bool=!0}}function blockFix(e,t,o,s){var i,n=$(e);if(s)if((i=$(window).scrollTop()+$(window).height())>t)if(n.addClass("fixed"),i>o)n.addClass("hold");else{n.removeClass("hold");var l=.02*(i-t)-40,a=l<-5?l:-5;n.css("bottom",a)}else n.removeClass("fixed"),n.removeClass("hold");else(i=$(window).scrollTop())>t?(n.addClass("fixed"),arguments.length>2&&(i>o?n.addClass("hold"):n.removeClass("hold"))):n.removeClass("fixed")}function offsetPosition(e){var t=0,o=0;do{t+=e.offsetLeft,o+=e.offsetTop}while(e=e.offsetParent);return[t,o]}function inputLableUp(){$("#contactus input").on("input",function(){$(this).val()?$(this).parent().addClass("filled"):$(this).parent().removeClass("filled")})}function twoLvlMenu(e){var t=$(e);return t&&t.children("i").on("click",function(e){$(this).parent().toggleClass("focus"),$(this).parent().find("ul").slideToggle(),e.preventDefault()}),!1}function stopTheVideo(){for(var e=$("#pvideo video"),t=0;t<e.length;t++)stopVideo(e[t])}function stopVideo(e){!e.playing&&e.paused||e.pause(),e.currentTime=0}var map_bool=!1;$(function(){function e(){interval=setInterval(function(){$("section#p_collapse .cntrls .next").trigger("click")},2e3)}console.log("start");var t=document.getElementById("top_menu"),o=document.getElementById("p_blog"),s=document.getElementById("p_collapse"),i=document.getElementById("pa_slider"),n=document.getElementById("static-menu"),l=document.getElementsByClassName("top_menu")[0],a=t.offsetHeight,r=document.getElementById("submenu"),c=document.getElementById("pa_section"),d=document.getElementById("news"),f=document.getElementById("blog");inputLableUp(),twoLvlMenu("#pa_section li.link.two-lvl"),SliderInit(".pslider.o",!1),SliderInit(".pslider.v",!0);var p=l.offsetHeight;if(blockFix("#header",p),c){var u=offsetPosition(c)[1];blockFix("#submenu",u-70)}if(d){console.log(1);var v=offsetPosition(d)[1];console.log(v),blockFix("#submenu",v-70)}if(f){console.log(2);var g=offsetPosition(f)[1];blockFix("#submenu",g-70)}if(o){console.log(3);var m=offsetPosition(o)[1];blockFix("#side_menu",m-70)}if(n&&blockFix("#static-menu",p),s){var h=offsetPosition(s)[1];h+=i.offsetHeight-40;var x=offsetPosition(s)[1]+s.offsetHeight;blockFix("#pa_slider",h,x,!0)}var b=window.innerWidth;console.log(b),$(window).scroll(function(){blockFix("#header",p),n&&blockFix("#static-menu",p),b>768&&(c&&blockFix("#submenu",u-70),d&&blockFix("#submenu",v-70),f&&blockFix("#submenu",g-70),o&&blockFix("#side_menu",(m=offsetPosition(o)[1])-70),s&&(h=offsetPosition(s)[1],h+=i.offsetHeight-40,x=offsetPosition(s)[1]+s.offsetHeight,blockFix("#pa_slider",h,x,!0)))}),$(window).resize(function(){b=window.innerWidth,r&&(b>=1024?(r.style.display="block",r.style.width="100%"):(r.style.width="0px",r.style.display="none")),p=l.offsetHeight,a=t.offsetHeight,o&&(m=offsetPosition(o)[1]),c&&(u=offsetPosition(c)[1]),d&&(v=offsetPosition(d)[1]),f&&(g=offsetPosition(f)[1]),s&&(h=offsetPosition(s)[1],h+=i.offsetHeight-40,x=offsetPosition(s)[1]+s.offsetHeight,blockFix("#pa_slider",h,x,!0))}),$(document).on("click",'a[href^="#"].anchor',function(e){console.log("down"),console.log(e);var t=e.currentTarget;return t.className.indexOf("anchor")>-1&&(href=t.getAttribute("href"),$("html, body").animate({scrollTop:$(""+href).offset().top},1e3)),!1}),$("#practice-short .panel a").on("click",function(e){console.log("collapse toggle");var t=$(this).parent().parent().find(".panel-collapse")[0];$(t).hasClass("act")?$("#practice-short .panel-collapse").removeClass("act"):($("#practice-short .panel-collapse").removeClass("act"),$(t).toggleClass("act")),h=offsetPosition(s)[1],h+=i.offsetHeight-40,x=offsetPosition(s)[1]+s.offsetHeight,blockFix("#pa_slider",h,x,!0)}),$("section#pvideo .slides li").on("click",function(e){console.log("video player");var t=e.currentTarget;if((" "+t.className+" ").replace(/[\n\t]/g," ").indexOf("cur")>-1){var o=t.childNodes[1];o.paused?o.play():o.pause()}(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf("next")>-1&&$("section#pvideo .cntrls .next").trigger("click"),(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf("prev")>-1&&$("section#pvideo .cntrls .prev").trigger("click")}),$("section#pvideo .cntrls a").on("click",function(){console.log("stop the video"),stopTheVideo()}),e(),$(".pslider.o").hover(function(){console.log("stop autoplay"),clearInterval(interval)}),$(".pslider.o").on("mouseleave",function(){console.log("start autoplay"),e()})});